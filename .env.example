# Wegent Docker Compose Configuration
# Copy this file to .env and customize as needed
# Usage: cp .env.example .env
#
# Tip:
# - `start.sh` also reads `.env.defaults`, `.env`, `.env.local` (in that order).
# - Prefer putting non-secret deploy defaults in `.env.defaults` and local overrides in `.env`.

# =============================================================================
# FRONTEND
# =============================================================================

# WebSocket URL for frontend to connect to backend
# - Local development: http://localhost:8000
# - Server deployment: http://<your-server-ip>:8000 or http://your-domain.com:8000
# Note: This is the address that browsers will use to connect, not internal docker network
WEGENT_SOCKET_URL=http://localhost:8000

# Frontend port (default: 3000)
WEGENT_FRONTEND_PORT=3000

# Persistent repo root for start.sh (host path, mounted to /wegent_repos inside executor containers)
# Default: ../wegent_repos (sibling of the Wegent repo). Set this if your system disk is too small.
# Must be outside the Wegent repo root.
# WEGENT_PERSIST_REPO_ROOT=/data/wegent_repos

# MCP (Model Context Protocol) configuration
# MCP server configs support ${{path}} variable substitution for dynamic values
# Example: "headers": {"X-User": "${{user.name}}"} will be replaced with actual username
# Available variables: user.name, user.id
# See CHAT_MCP_SERVERS in backend/app/core/config.py for full configuration format

# Codex shell feature flag
# Set to false to hide/disable Codex shell selection and execution
CODEX_SHELL_ENABLED=true

# Redis
# docker-compose.yml enables Redis auth; set a strong password in production.
REDIS_PASSWORD=change-me

# Docker images (useful for forks publishing to GHCR)
# Tip: if you don't want to bump versions every release, use latest tags.
#
# WEGENT_IMAGE_PREFIX=ghcr.io/wecode-ai
# WEGENT_BACKEND_VERSION=latest
# WEGENT_FRONTEND_VERSION=latest
# WEGENT_EXECUTOR_MANAGER_VERSION=latest
# Executor defaults to latest-codex (Codex-enabled tag). You can override with full image if needed.
# WEGENT_EXECUTOR_VERSION=latest-codex
# WEGENT_EXECUTOR_IMAGE=ghcr.io/wecode-ai/wegent-executor:latest-codex
# WEGENT_EXECUTOR_MANAGER_IMAGE=ghcr.io/wecode-ai/wegent-executor-manager:latest
